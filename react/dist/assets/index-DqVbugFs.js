import{j as e,D as g,a as j,B as r,T as u,b as v,d as y,e as f,f as C,h as N,r as p,t as x,u as b,i as m,S as D}from"./index-BLQZvK04.js";import{m as c,d as w,A as S,l as z,S as T,T as k,u as A,c as F,C as H,n as h}from"./index.browser-DqXFx9-w.js";const M=({show:s,className:a,children:i,setShow:n,handleDeleteCanvas:t})=>e.jsxs(g,{open:s,onOpenChange:n,children:[e.jsx(j,{asChild:!0,children:i||e.jsx(r,{variant:"destructive",size:"icon",className:a,children:e.jsx(u,{className:"w-4 h-4"})})}),e.jsxs(v,{children:[e.jsx(y,{children:e.jsx(f,{children:"Delete Canvas"})}),e.jsx(C,{children:"Are you sure you want to delete this Canvas? This action cannot be undone."}),e.jsxs(N,{children:[e.jsx(r,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:()=>t(),children:"Delete"})]})]})]}),_=({index:s,canvas:a,handleCanvasClick:i,handleDeleteCanvas:n})=>{const[t,o]=p.useState(!1),l=async()=>{try{await w(a.id),n(),x.success("Canvas deleted successfully")}catch{x.error("Failed to delete canvas")}o(!1)};return e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:s*.1},className:"border border-primary/20 rounded-xl cursor-pointer hover:border-primary/40 transition-all duration-300 hover:shadow-md hover:bg-primary/5 active:scale-99 relative group",children:[e.jsx(M,{show:t,setShow:o,handleDeleteCanvas:l,children:e.jsx(r,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(u,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"p-3 flex flex-col gap-2",onClick:()=>i(a.id),children:[a.thumbnail?e.jsx("img",{src:a.thumbnail,alt:a.name,className:"w-full h-40 object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-40 bg-primary/20 rounded-lg"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-lg font-bold",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.created_at})]})]})]})},P=()=>{const{data:s,refetch:a}=b({queryKey:["canvases"],queryFn:z}),i=m(),n=t=>{i({to:"/canvas/$id",params:{id:t}})};return e.jsxs("div",{className:"flex flex-col px-10 mt-10 gap-4 select-none",children:[s&&s.length>0&&e.jsx(c.span,{className:"text-2xl font-bold",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:"All Projects"}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-4 gap-4 w-full pb-10",children:s==null?void 0:s.map((t,o)=>e.jsx(_,{index:o,canvas:t,handleCanvasClick:n,handleDeleteCanvas:()=>a()},t.id))})})]})};function B(){const s=m();return e.jsxs(c.div,{className:"sticky top-0 z-0 flex w-full h-12 bg-background px-4 justify-between items-center select-none",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/unicorn.png",alt:"logo",className:"size-8",draggable:!1}),e.jsx("p",{className:"text-xl font-bold",children:"Jaaz"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>s({to:"/settings"}),children:e.jsx(T,{size:30})}),e.jsx(k,{})]})]})}const J=function(){const[a,i]=p.useState(""),n=m(),{mutate:t,isPending:o}=A({mutationFn:F,onSuccess:l=>{n({to:"/canvas/$id",params:{id:l.id}})},onError:l=>{x.error("Failed to create canvas",{description:l.message})}});return e.jsx("div",{className:"flex flex-col h-screen",children:e.jsxs(D,{className:"h-full",children:[e.jsx(B,{}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-300px)] select-none",children:[e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("h1",{className:"text-5xl font-bold mb-2 mt-8 text-center",children:"Hello, Jaaz!"})}),e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("p",{className:"text-xl text-gray-500 mb-8 text-center",children:"Ready to turn your ideas into art?"})}),e.jsx(H,{className:"w-full max-w-xl",value:a,onChange:i,messages:[],onSendMessages:(l,d)=>{t({name:"New Canvas",canvas_id:h(),messages:l,session_id:h(),text_model:d.textModel,image_model:d.imageModel})},pending:o})]}),e.jsx(P,{})]})})};export{J as component};
